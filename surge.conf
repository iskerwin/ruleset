#!MANAGED-CONFIG https://proxy.kerwin.dpdns.org/surge.conf interval=43200 strict=true

# === Surge é…ç½®æ–‡ä»¶ ===
# å®˜æ–¹æ–‡æ¡£: https://manual.nssurge.com/
# é…ç½®åŸç†: https://manual.nssurge.com/book/understanding-surge/cn/
# æŠ€æœ¯ç¤¾åŒº: https://community.nssurge.com
# æœ¬é…ç½®å‚è€ƒï¼š@Sukka https://blog.skk.moe/post/i-have-my-unique-surge-setup/

[General]
# === ç½‘ç»œæ€§èƒ½ä¼˜åŒ–è®¾ç½® ===
wifi-assist = true                     // Wi-Fi è¾…åŠ©åŠŸèƒ½ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶åˆ‡æ¢åˆ°æœ€ä½³ç½‘ç»œ
all-hybrid = false                    // æ··åˆç½‘ç»œæ¨¡å¼ï¼šç¦ç”¨å¤šç½‘ç»œæ¥å£èšåˆ
udp-priority = false                 // UDP ä¼˜å…ˆï¼šç³»ç»Ÿè´Ÿè½½é«˜æ—¶ä¼˜å…ˆå¤„ç† UDP æµé‡ï¼Œé€‚ç”¨äºæ¸¸æˆåœºæ™¯

# === ç½‘ç»œå»¶è¿Ÿæµ‹è¯•é…ç½® ===
internet-test-url = http://wifi.vivo.com.cn/generate_204  // äº’è”ç½‘è¿æ¥æµ‹è¯• URLï¼šéªŒè¯ç½‘ç»œè¿é€šæ€§
proxy-test-url = http://cp.cloudflare.com                // ä»£ç†æœåŠ¡å™¨æµ‹è¯• URLï¼šéªŒè¯ä»£ç†å¯ç”¨æ€§
proxy-test-udp = www.apple.com@64.6.64.6                // UDP è¿æ¥æµ‹è¯•ï¼šéªŒè¯ UDP è½¬å‘åŠŸèƒ½
test-timeout = 3                                       // æµ‹è¯•è¶…æ—¶æ—¶é—´ï¼š3 ç§’
# https://lab.skk.moe/test-204/  // äº’è”ç½‘è¿æ¥æµ‹è¯• URLï¼šéªŒè¯ç½‘ç»œè¿é€šæ€§

# === å®‰å…¨å’Œæ€§èƒ½è®¾ç½® ===
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb   // GeoIP æ•°æ®åº“ï¼šä» GitHub ä¸‹è½½ MaxMind æ ¼å¼åœ°ç†ä½ç½®æ•°æ®
tls-provider = openssl                 // TLS å¼•æ“ (defaultã€secure-transportã€opensslã€network-framework)
vif-mode = auto                       // è™šæ‹Ÿç½‘å¡æ¨¡å¼ï¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³æ¨¡å¼

# === IPv6 ç½‘ç»œè®¾ç½® ===
# æ³¨æ„ï¼šå¯ç”¨ IPv6 å°†åŒæ—¶è¯·æ±‚ A å’Œ AAAA è®°å½•ï¼Œå¯èƒ½å¢åŠ å»¶è¿Ÿ
# å¦‚æœ DNS æœåŠ¡å™¨å¯¹ AAAA æŸ¥è¯¢å“åº”ä¸æ­£å¸¸ï¼Œå¯èƒ½å¯¼è‡´ç½‘ç»œå¡é¡¿
ipv6 = false                           // ç¦ç”¨ IPv6 æ”¯æŒ
ipv6-vif = off                        // å…³é—­è™šæ‹Ÿæ¥å£çš„ IPv6

# === æœ¬åœ°è®¿é—®æ§åˆ¶ ===
allow-wifi-access = true               // å…è®¸é€šè¿‡ Wi-Fi è®¿é—®ä»£ç†æœåŠ¡
wifi-access-http-port = 6152          // HTTP ä»£ç†ç«¯å£
wifi-access-socks5-port = 6153       // SOCKS5 ä»£ç†ç«¯å£
http-listen = 0.0.0.0:6152          // HTTPä»£ ç†ç›‘å¬åœ°å€
socks5-listen = 0.0.0.0:6153       // SOCKS5 ä»£ç†ç›‘å¬åœ°å€
allow-hotspot-access = true       // å…è®¸çƒ­ç‚¹è®¾å¤‡ä½¿ç”¨ä»£ç†

# === è¿œç¨‹æ§åˆ¶è®¾ç½® ===
external-controller-access = kerwin@0.0.0.0:6160  // è¿œç¨‹æ§åˆ¶è®¿é—®åœ°å€

# === HTTP API è®¾ç½® ===
http-api = kerwin@0.0.0.0:6166         // HTTP API ç›‘å¬åœ°å€å’Œç«¯å£
http-api-web-dashboard = true         // å¯ç”¨ Web ä»ªè¡¨ç›˜
http-api-tls = true                  // å¯ç”¨ API çš„ TLS åŠ å¯†


# === ç³»ç»Ÿå…¼å®¹æ€§è®¾ç½® ===
# å…¼å®¹æ€§æ¨¡å¼è¯´æ˜ï¼š
# 0 - å®Œå…¨ç¦ç”¨å…¼å®¹æ¨¡å¼
# 1 - ä½¿ç”¨å›ç¯åœ°å€ä»£ç†
# 2 - ä»…ä»£ç†æ¨¡å¼
# 3 - ä»… VIF æ¨¡å¼
# 4 - VIF ä»£ç†æ¨¡å¼ï¼ˆæ€§èƒ½æ¶ˆè€—è¾ƒå¤§ï¼‰
# 5 - éé»˜è®¤è·¯ç”±æ¨¡å¼ï¼ˆç±»ä¼¼ Mac å¢å¼ºæ¨¡å¼ï¼‰
compatibility-mode = 0                    // é»˜è®¤å…¼å®¹æ¨¡å¼ï¼šå®Œå…¨ç¦ç”¨

# === ä»£ç†ç»•è¿‡è®¾ç½® ===
# skip-proxy = 127.0.0.0/8, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 162.14.0.0/16, 211.99.96.0/19, 162.159.192.0/24, 162.159.193.0/24, 162.159.195.0/24, fc00::/7, fe80::/10, localhost, *.local, captive.apple.com, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn
# >>>>> æ¨¡å—é…ç½®ï¼šhttps://ruleset.kerwin.dpdns.org/modules/general.sgmodule

# æ§åˆ¶ä¸å¸¦ç‚¹çš„åŸŸåï¼ˆå¦‚ localhostã€DEVICE-A114514 è¿™ç±» mDNS åï¼‰æ˜¯å¦ç»•è¿‡ Surge Proxyã€ç›´æ¥ä½¿ç”¨ Surge VIF è™šæ‹Ÿç½‘å¡å¤„ç†ã€‚
exclude-simple-hostnames = true             // ç»•è¿‡ç®€å•ä¸»æœºåï¼šè·³è¿‡ä¸å¸¦ç‚¹çš„åŸŸåï¼ˆå¦‚ localhostï¼‰

# === DNS æœåŠ¡è®¾ç½® ===
# åŸºç¡€ DNS æœåŠ¡å™¨é…ç½®
dns-server = 223.5.5.5, 114.114.114.114     // DNS æœåŠ¡å™¨åˆ—è¡¨
read-etc-hosts = true                      // æ§åˆ¶æ˜¯å¦è®© Surge for Mac è¯»å– /etc/hosts æ–‡ä»¶å¹¶åœ¨ Surge DNS ä¸­æ¨¡æ‹Ÿè¯¥è¡Œä¸º

# åŠ å¯† DNS é…ç½®
encrypted-dns-server = quic://223.5.5.5, quic://223.6.6.6, https://1.12.12.12/dns-query, https://120.53.53.53/dns-query  // åŠ å¯† DNS æœåŠ¡å™¨åˆ—è¡¨

# DNS è§£æç­–ç•¥
encrypted-dns-follow-outbound-mode = false  // åŠ å¯† DNS è¯·æ±‚ä¸è·Ÿéšå‡ºç«™æ¨¡å¼
use-local-host-item-for-proxy = true       // ä¼˜å…ˆä½¿ç”¨æœ¬åœ° DNS æ˜ å°„

# æ³¨æ„äº‹é¡¹ï¼š
# 1. åŠ å¯† DNS å¯ç”¨åï¼Œä¼ ç»Ÿ DNS ä»…ç”¨äºè§£æ DOH åŸŸåå’Œç½‘ç»œè¿é€šæ€§æµ‹è¯•
# 2. æ”¯æŒçš„åŠ å¯† DNS åè®®ï¼š
#    - DNS over HTTPS (DOH)
#    - DNS over HTTP/3
#    - DNS over QUIC

# === VIF è·¯ç”±æ’é™¤è®¾ç½® ===
# å¤šæ’­åœ°å€æ’é™¤
tun-excluded-routes = 239.255.255.250/32   // å¤šæ’­åœ°å€æ’é™¤
# tun-included-routes = 192.168.1.12/32     // åŒ…å«çš„è·¯ç”±

# === ç½‘ç»œæ¥å£è®¾ç½® ===
include-all-networks = false               // ä¸åŒ…æ‹¬æ‰€æœ‰ç½‘ç»œæ¥å£
include-local-networks = false            // ä¸åŒ…æ‹¬æœ¬åœ°ç½‘ç»œæ¥å£

loglevel = notify                          // æ—¥å¿—çº§åˆ«ï¼šnotifyï¼ˆé€šçŸ¥çº§åˆ«ï¼‰
show-error-page-for-reject = true         // æ˜¾ç¤ºæ‹’ç»ç­–ç•¥çš„é”™è¯¯é¡µé¢

# === DNS åŠ«æŒé…ç½® ===
# DNS åŠ«æŒè®¾ç½®ï¼ˆæ”¯æŒçš„ DNS æœåŠ¡å™¨ï¼‰
hijack-dns = 8.8.8.8:53, 8.8.4.4:53       // DNS åŠ«æŒè®¾ç½®

# === HTTP å¼•æ“å¼ºåˆ¶è®¾ç½® ===
# å¼ºåˆ¶ä½¿ç”¨ HTTP å¼•æ“å¤„ç†çš„ä¸»æœºåˆ—è¡¨
# è¯´æ˜ï¼š
# 1. æ”¯æŒé€šé…ç¬¦ * å’Œ ?
# 2. ä½¿ç”¨ :ç«¯å£ æŒ‡å®šç‰¹å®šç«¯å£
# 3. :0 è¡¨ç¤ºæ‰€æœ‰ç«¯å£
# 4. å‰ç¼€ - ç”¨äºæ’é™¤ä¸»æœºå
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1, 119.18.193.135, 122.14.246.33, 175.102.178.52, 116.253.24.*, 175.6.26.*, 220.169.153.*  // å¼ºåˆ¶ä½¿ç”¨ HTTP å¼•æ“å¤„ç†çš„ä¸»æœºåˆ—è¡¨

# === UDP ç­–ç•¥è®¾ç½® ===
# UDP æµé‡å¤„ç†ç­–ç•¥
# - DIRECTï¼šä½¿ç”¨ç›´è¿ç­–ç•¥
# - REJECTï¼šæ‹’ç» UDP æµé‡
udp-policy-not-supported-behaviour = REJECT  // UDP ä¸æ”¯æŒæ—¶çš„å›é€€ç­–ç•¥

[Proxy]
# === ä»£ç†æœåŠ¡å™¨è®¾ç½® ===
"ğŸš« Reject-no-Drop" = reject-no-drop  // æ‹’ç»ä½†ä¸ä¸¢å¼ƒ
"â­•ï¸ Reject-Drop" = reject-drop       // æ‹’ç»å¹¶ä¸¢å¼ƒ
"â›”ï¸ Reject" = reject                // æ‹’ç»
"â›³ï¸ Direct" = direct               // ç›´è¿

[Proxy Group]
# === ä»£ç†ç­–ç•¥ç»„è®¾ç½® ===
ğŸ”° Ad        = select, "â›³ï¸ Direct", "â›”ï¸ Reject"
ğŸŒ Proxy     = select, "ğŸ¦Š Smart", "ğŸš© Select", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸ Apple     = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸŒ€ Microsoft = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸ­ Streaming = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸï¸ Speedtest = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸ Download  = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸƒ Domestic  = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸ¤– AIGC      = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan"
ğŸ Final     = select, "ğŸŒ Proxy", "â›³ï¸ Direct", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¨ğŸ‡³ Taiwan", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ¦Š Smart", no-alert=0, hidden=0, include-all-proxies=0
ğŸš© Select = select, policy-path=https://example.com/proxies.list, update-interval=86400, include-all-proxies/proxies=0, no-alert=0, hidden=0
ğŸ‡ºğŸ‡¸ United States = smart, policy-path=https://example.com/proxies.list, update-interval=86400, policy-regex-filter=\ç¾å›½, no-alert=0, hidden=1, include-all-proxies=0
ğŸ‡­ğŸ‡° Hong Kong = smart, policy-path=https://example.com/proxies.list, update-interval=86400, policy-regex-filter=\é¦™æ¸¯, no-alert=0, hidden=1, include-all-proxies=0
ğŸ‡¸ğŸ‡¬ Singapore = smart, policy-path=https://example.com/proxies.list, update-interval=86400, policy-regex-filter=\æ–°åŠ å¡, no-alert=0, hidden=1, include-all-proxies=0
ğŸ‡¨ğŸ‡³ Taiwan = smart, policy-path=https://example.com/proxies.list, update-interval=86400, policy-regex-filter=\å°æ¹¾, no-alert=0, hidden=1, include-all-proxies=0
ğŸ‡¯ğŸ‡µ Japan = smart, policy-path=https://example.com/proxies.list, update-interval=86400, policy-regex-filter=\æ—¥æœ¬, no-alert=0, hidden=1, include-all-proxies=0
ğŸ¦Š Smart = smart, policy-path=https://example.com/proxies.list, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-regex-filter=^((?!Game).)*$

[Rule]
# === æµè§ˆå™¨å®‰å…¨è§„åˆ™ ===
DOMAIN,app-site-association.cdn-apple.com, "â›³ï¸ Direct"  // Safari é˜²è·³è½¬ä¿æŠ¤

# === åŸºç¡€æœåŠ¡è§„åˆ™ ===
# é‚®ä»¶æœåŠ¡å™¨ç›´è¿
DOMAIN-SUFFIX,smtp, "â›³ï¸ Direct"             // SMTP ç›´è¿
URL-REGEX,(Subject|HELO|SMTP), "â›³ï¸ Direct" // SMTP ç›´è¿

# === æœ¬åœ°åº”ç”¨ç¨‹åº ===
# è¿œç¨‹æ§åˆ¶è½¯ä»¶
PROCESS-NAME,SunloginClient, "â›³ï¸ Direct"   // å‘æ—¥è‘µè¿œç¨‹æ§åˆ¶
PROCESS-NAME,ToDesk, "â›³ï¸ Direct"          // ToDesk è¿œç¨‹æ§åˆ¶

# === ä¸‹è½½å·¥å…·ç›´è¿ ===
# å¸¸ç”¨ä¸‹è½½å·¥å…·ç›´è¿é…ç½®
PROCESS-NAME,"WebTorrent Helper", "â›³ï¸ Direct"   // WebTorrent Helper
PROCESS-NAME,Transmission, "â›³ï¸ Direct"         // Transmission
PROCESS-NAME,NetTransport, "â›³ï¸ Direct"        // NetTransport
PROCESS-NAME,WebTorrent, "â›³ï¸ Direct"         // WebTorrent
PROCESS-NAME,uTorrent, "â›³ï¸ Direct"          // uTorrent
PROCESS-NAME,Thunder, "â›³ï¸ Direct"          // è¿…é›·
PROCESS-NAME,aria2c, "â›³ï¸ Direct"          // Aria2
PROCESS-NAME,Folx, "â›³ï¸ Direct"           // Folx
PROCESS-NAME,fdm, "â›³ï¸ Direct"           // Free Download Manager

# === å±€åŸŸç½‘è®¿é—®è§„åˆ™ (non_ip) - æœ€é«˜ä¼˜å…ˆçº§ ===
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/lan.conf,"â›³ï¸ Direct"

# === å¹¿å‘Šæ‹¦æˆªè§„åˆ™ (non_ip) ===
// å¹¿å‘Šã€éšç§è¿½è¸ªå’Œæ¶æ„åŸŸåæ‹¦æˆª
DOMAIN-SET,https://ruleset.kerwin.dpdns.org/list/domainset/reject.conf,"ğŸ”° Ad"
// å¹¿å‘Šã€éšç§è¿½è¸ªå’Œæ¶æ„åŸŸåæ‹¦æˆª
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/reject.conf,"ğŸ”° Ad",extended-matching
// é˜»æ­¢è§†é¢‘å¹³å° CDN çš„ QUIC å’Œ P2P CDN
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/reject-no-drop.conf,"ğŸš« Reject-no-Drop",extended-matching
// ä¸¢å¼ƒå‘å¾€ Adobe ç³»åˆ—è½¯ä»¶å†…éƒ¨çš„è·Ÿè¸ªæ‰“ç‚¹åŸŸåçš„æ•°æ®åŒ…
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/reject-drop.conf,"â­•ï¸ Reject-Drop",extended-matching

# === ç‰¹æ®ŠæœåŠ¡è§„åˆ™ (non_ip) ===
// Speedtest æµ‹é€Ÿ
DOMAIN-SET,https://ruleset.kerwin.dpdns.org/list/domainset/speedtest.conf,"ğŸï¸ Speedtest",extended-matching
// Apple ä¸­å›½
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/apple_cn.conf,"â›³ï¸ Direct"
// Apple CDN
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/apple_cdn.conf,"ğŸ Apple"
// Microsoft CDN
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/microsoft_cdn.conf,"ğŸŒ€ Microsoft"
// æµåª’ä½“æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/stream.conf,"ğŸ­ Streaming",extended-matching
// Apple æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/apple_services.conf,"ğŸ Apple",extended-matching
// Microsoft æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/microsoft.conf,"ğŸŒ€ Microsoft",extended-matching
// Telegram æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/telegram.conf,"ğŸŒ Proxy",extended-matching
// AI æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/ai.conf,"ğŸ¤– AIGC",extended-matching
// PayPal æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/paypal.conf,"ğŸ‡ºğŸ‡¸ United States"

# === CDNå’Œä¸‹è½½åŠ é€Ÿè§„åˆ™ (non_ip) ===
// CDN åŠ é€Ÿ
DOMAIN-SET,https://ruleset.kerwin.dpdns.org/list/domainset/cdn.conf,"ğŸƒ Domestic",extended-matching
// CDN åŠ é€Ÿ
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/cdn.conf,"ğŸƒ Domestic",extended-matching
// ä¸‹è½½åŠ é€Ÿ
DOMAIN-SET,https://ruleset.kerwin.dpdns.org/list/domainset/download.conf,"ğŸ Download",extended-matching
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/download.conf,"ğŸ Download",extended-matching

# === ä»£ç†ä¸ç›´è¿è§„åˆ™ (non_ip) ===
// å…¨å±€ä»£ç†
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/global.conf,"ğŸŒ Proxy",extended-matching
// å›½å†…ç›´è¿
RULE-SET,https://ruleset.kerwin.dpdns.org/list/non_ip/domestic.conf,"â›³ï¸ Direct",extended-matching

# === IP è§„åˆ™éƒ¨åˆ† (æ”¾åœ¨æœ€å) ===
// å±€åŸŸç½‘ç›´è¿
RULE-SET,https://ruleset.kerwin.dpdns.org/list/ip/lan.conf,"â›³ï¸ Direct"
// å¹¿å‘Šã€éšç§è¿½è¸ªå’Œæ¶æ„åŸŸåæ‹¦æˆª
RULE-SET,https://ruleset.kerwin.dpdns.org/list/ip/reject.conf,"â­•ï¸ Reject-Drop"
// æµåª’ä½“æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/ip/stream.conf,"ğŸ­ Streaming"
// Telegram æœåŠ¡
RULE-SET,https://ruleset.kerwin.dpdns.org/list/ip/telegram.conf,"ğŸŒ Proxy"
// å›½å†…ç›´è¿
RULE-SET,https://ruleset.kerwin.dpdns.org/list/ip/domestic.conf,"â›³ï¸ Direct"
// å›½å†… IP ç›´è¿
RULE-SET,https://ruleset.kerwin.dpdns.org/list/ip/china_ip.conf,"â›³ï¸ Direct"

# PROCESS-NAME,Telegram,"â­•ï¸ Reject-Drop" // ä¸¢å¼ƒ Telegram å®¢æˆ·ç«¯ï¼ˆmacOS Swiftï¼‰å…¶ä½™è¿æ¥é¿å…éšç§æ³„éœ²
# === å†…ç½®å±€åŸŸç½‘è§„åˆ™ ===
RULE-SET,LAN, "â›³ï¸ Direct"
# === GeoIP æ•°æ®åº“ ===
GEOIP,CN, "â›³ï¸ Direct", no-resolve
# === æœ€ç»ˆè§„åˆ™  ===
FINAL, "ğŸ Final", dns-failed

[Replica]
# === è¯¥æ®µå®šä¹‰æŠ“å–æµé‡çš„è¿‡æ»¤ ===
# hide-apple-request = true             // éšè— Apple è¯·æ±‚
# hide-crashlytics-request = true      // éšè— Crashlytics è¯·æ±‚
# hide-udp = false                    // éšè— UDP æµé‡
# use-keyword-filter = false         // ä½¿ç”¨å…³é”®å­—è¿‡æ»¤å™¨
# keyword-filter-type = blacklist   // å…³é”®å­—è¿‡æ»¤å™¨ç±»å‹ï¼šé»‘åå•
# keyword-filter-type = whitelist  // å…³é”®å­—è¿‡æ»¤å™¨ç±»å‹ï¼šç™½åå•
# keyword-filter =                // å…³é”®å­—è¿‡æ»¤å™¨åˆ—è¡¨

[Host]
# === è‡ªå®šä¹‰ DNS æ˜ å°„ ===
# Google æœåŠ¡
mtalk.google.com = 108.177.125.188

# Google ä¸‹è½½åŠ é€Ÿ
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# PlayStation ä¸‹è½½åŠ é€Ÿ
*.dl.playstation.net = server:119.29.29.29

[URL Rewrite]
# === URL é‡å†™è§„åˆ™ ===
# æ¨¡å—é…ç½®ï¼šhttps://ruleset.kerwin.dpdns.org/modules/general.sgmodule

[Header Rewrite]
# === è¯·æ±‚ Header é‡å†™ ===
# æ¨¡å—é…ç½®ï¼šhttps://ruleset.kerwin.dpdns.org/modules/general.sgmodule

[SSID Setting]
# === SSID åœºæ™¯è®¾ç½® ===
# SSID é…ç½®è¯´æ˜ï¼š
# 1. suspend=trueï¼šæš‚åœ Surge
# 2. cellular-fallback å‚æ•°ï¼š
#    - defaultï¼šä½¿ç”¨å…¨å±€è®¾ç½®
#    - offï¼šå…³é—­ç½‘ç»œå›é€€
#    - hybridï¼šå¯ç”¨æ··åˆæ¨¡å¼
#    - wifi-assistï¼šå¯ç”¨ Wi-Fi è¾…åŠ©

# Wi-Fi ç½‘ç»œé…ç½®ç¤ºä¾‹
"SSID Here" suspend=true                         // åœ¨ç‰¹å®š Wi-Fi ä¸‹æš‚åœSurge

# æ•°æ®ç½‘ç»œé…ç½®ç¤ºä¾‹
#"TYPE:CELLULAR" tfo-behaviour=force-disabled    // å…³é—­æ•°æ®ç½‘ç»œ TFO

# å®¶åº­ç½‘ç»œé…ç½®ç¤ºä¾‹
#"HOME_WIFI" cellular-fallback=off               // å®¶åº­ç½‘ç»œç¦ç”¨å›é€€

# TCP å¿«é€Ÿæ‰“å¼€è®¾ç½®
"My Home" tfo-behaviour=force-enabled            // åœ¨å®¶åº­ç½‘ç»œå¯ç”¨ TFO
TYPE:CELLULAR tfo-behaviour=force-disabled       // å…³é—­æ•°æ®ç½‘ç»œ TFO

[MITM]
# === MITM å®‰å…¨é…ç½® ===
# è¯ä¹¦å’Œå®‰å…¨è®¾ç½®
skip-server-cert-verify = true         // è·³è¿‡æœåŠ¡å™¨è¯ä¹¦éªŒè¯
h2 = true                              // å¯ç”¨ HTTP/2 æ”¯æŒ
tcp-connection = true                  // å¯ç”¨ TCP è¿æ¥æ”¯æŒ

# === ä¸»æœºåé…ç½® ===
# ç³»ç»ŸæœåŠ¡ï¼ˆç¦ç”¨è§£å¯†ï¼‰
hostname = -*.apple.com, -*.icloud.com, -*.mzstatic.com, -*.crashlytics.com, -*.facebook.com, -*.instagram.com

# å®‰å…¨æç¤ºï¼š
# 1. Surge ä»…è§£å¯†æŒ‡å®šä¸»æœºåçš„è¯·æ±‚
# 2. iOS ç³»ç»Ÿå’Œåº”ç”¨å¯èƒ½æœ‰ä¸¥æ ¼çš„è¯ä¹¦è¦æ±‚
# 3. è§£å¯†æŸäº›åŸŸåå¯èƒ½å¯¼è‡´åŠŸèƒ½å¼‚å¸¸

# é…ç½®è¯´æ˜ï¼š
# * é€šé…ç¬¦ï¼š* å’Œ ? 
# * æ’é™¤åŸŸåï¼šä½¿ç”¨å‰ç¼€ -
# * ç«¯å£æŒ‡å®šï¼šä½¿ç”¨åç¼€ :ç«¯å£å·
# * æ‰€æœ‰ç«¯å£ï¼šä½¿ç”¨åç¼€ :0
# * é»˜è®¤ä»…è§£å¯†443ç«¯å£æµé‡

# === CA è¯ä¹¦é…ç½® ===
